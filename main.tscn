[gd_scene load_steps=11 format=3 uid="uid://501gglmoon7g"]

[ext_resource type="PackedScene" uid="uid://6ru8poy7tgm4" path="res://player.tscn" id="1_ig7tw"]
[ext_resource type="PackedScene" uid="uid://drr3esl1pjkv1" path="res://enemies/goomba.tscn" id="2_0xm2m"]
[ext_resource type="PackedScene" uid="uid://2f2frnk5w48q" path="res://enemies/turret.tscn" id="3_h2yge"]
[ext_resource type="PackedScene" uid="uid://rss6l1jqgbfp" path="res://enemies/wall_guy.tscn" id="4_1bvp3"]
[ext_resource type="Script" uid="uid://d3jcwouspyhjs" path="res://control.gd" id="5_lquwl"]
[ext_resource type="PackedScene" uid="uid://rtx58aai472o" path="res://assets/objects/sacrifice_door_model.tscn" id="6_7mycd"]

[sub_resource type="Environment" id="Environment_ig7tw"]

[sub_resource type="NavigationMesh" id="NavigationMesh_ig7tw"]
vertices = PackedVector3Array(-49.5, 1, -8.25, -11.5, 1, -8.25, -11.5, 1, -10.25, -10.25, 1, -10.5, -10.25, 1, -49.5, -49.5, 1, -49.5, -9.25, 1, -10.25, 49.5, 1, -9, 49.5, 1, -49.5, -9.25, 1, -8.75, -9.25, 1, 9, 49.5, 1, 9.25, -49.5, 1, 8.5, -11.5, 1, 8.5, -11.5, 1, 10.5, -10.25, 1, 49.5, -10.25, 1, 10.75, -49.5, 1, 49.5, -9.25, 1, 10.5, 49.5, 1, 49.5)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(2, 0, 3), PackedInt32Array(3, 0, 4), PackedInt32Array(4, 0, 5), PackedInt32Array(3, 4, 6), PackedInt32Array(6, 4, 8), PackedInt32Array(6, 8, 7), PackedInt32Array(7, 9, 6), PackedInt32Array(9, 7, 10), PackedInt32Array(10, 7, 11), PackedInt32Array(0, 1, 12), PackedInt32Array(12, 1, 13), PackedInt32Array(12, 13, 14), PackedInt32Array(14, 16, 12), PackedInt32Array(12, 16, 15), PackedInt32Array(12, 15, 17), PackedInt32Array(16, 18, 15), PackedInt32Array(15, 18, 19), PackedInt32Array(19, 18, 11), PackedInt32Array(18, 10, 11)]

[sub_resource type="BoxShape3D" id="BoxShape3D_7dm0k"]
size = Vector3(100, 1, 100)

[sub_resource type="BoxShape3D" id="BoxShape3D_ig7tw"]
size = Vector3(1, 6, 19.988869)

[node name="main" type="Node3D"]

[node name="Player" parent="." instance=ExtResource("1_ig7tw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2896218, 0)
mouse_sens = 0.005

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ig7tw")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldEnvironment"]
transform = Transform3D(0.53358495, 0.58911675, -0.6068184, 0, 0.7174944, 0.69656426, 0.84574646, -0.3716762, 0.38284424, 0, 0, 0)
shadow_enabled = true

[node name="NavigatableLevel" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_ig7tw")

[node name="Floor" type="StaticBody3D" parent="NavigatableLevel"]

[node name="CSGBox3D" type="CSGBox3D" parent="NavigatableLevel/Floor"]
size = Vector3(100, 1, 100)

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigatableLevel/Floor"]
shape = SubResource("BoxShape3D_7dm0k")

[node name="Wall" type="StaticBody3D" parent="NavigatableLevel"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.343927, 0, 0)

[node name="CSGBox3D" type="CSGBox3D" parent="NavigatableLevel/Wall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.308538, 0)
size = Vector3(1, 6, 20)

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigatableLevel/Wall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.304183, -0.0011482239)
shape = SubResource("BoxShape3D_ig7tw")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigatableLevel"]
transform = Transform3D(47.16198, 0, 0, 0, 1.4273311, 0, 0, 0, 0.21117008, -31.586008, 0, -36.278236)

[node name="CSGBox3D" type="CSGBox3D" parent="NavigatableLevel/StaticBody3D"]
transform = Transform3D(0.99999994, 0, 0, 0, 1, 0, 0, 0, 0.32296038, 0, 3.3085382, 0)
size = Vector3(1, 6, 20)

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigatableLevel/StaticBody3D"]
transform = Transform3D(0.9999999, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.304183, -0.02053833)
shape = SubResource("BoxShape3D_ig7tw")

[node name="StaticBody3D2" type="StaticBody3D" parent="NavigatableLevel"]
transform = Transform3D(56.248295, 0, 0, 0, 1.4273311, 0, 0, 0, 0.21117008, 27.94739, 0, -36.278236)

[node name="CSGBox3D" type="CSGBox3D" parent="NavigatableLevel/StaticBody3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.31107244, 0, 3.3085382, 0)
size = Vector3(1, 6, 20)

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigatableLevel/StaticBody3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.304183, 0)
shape = SubResource("BoxShape3D_ig7tw")

[node name="Goomba" parent="." instance=ExtResource("2_0xm2m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23.491486, 1.6414824, 31.62574)

[node name="Turret" parent="." instance=ExtResource("3_h2yge")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -25.87181, 2.9214535, 10.457431)

[node name="WallGuy" parent="." instance=ExtResource("4_1bvp3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.957869, 1.5297585, -18.201555)

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
script = ExtResource("5_lquwl")

[node name="Health" type="Label" parent="Control"]
layout_mode = 0
offset_left = 34.0
offset_top = 34.0
offset_right = 74.0
offset_bottom = 57.0
text = "100"

[node name="Level" type="Label" parent="Control"]
layout_mode = 0
offset_left = 35.0
offset_top = 61.0
offset_right = 75.0
offset_bottom = 84.0
text = "Level: 1"

[node name="Sacrifice Door Model" parent="." instance=ExtResource("6_7mycd")]
transform = Transform3D(4, 0, 0, 0, 4, 0, 0, 0, 4, -3.9566598, 0.5, -36.06614)

[node name="Goombers" type="Node3D" parent="."]

[node name="Goomba" parent="Goombers" instance=ExtResource("2_0xm2m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 41.413227, 1.6414843, -32.18074)

[node name="Goomba3" parent="Goombers" instance=ExtResource("2_0xm2m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 43.630733, 1.6414843, -32.132637)

[node name="Goomba4" parent="Goombers" instance=ExtResource("2_0xm2m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 45.98324, 1.6414843, -31.745201)

[node name="Goomba2" parent="Goombers" instance=ExtResource("2_0xm2m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 38.066204, 1.2418861, -33.931507)
